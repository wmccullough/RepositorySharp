/*! angular-kendo 1.0.0 2014-03-20 */
!function(a,b){b(["jquery","angular","kendo"],a)}(function(a,b,c){"use strict";function d(a){var b=l;l=function(a){return a()};try{return a()}finally{l=b}}function e(a,b,c,d){if(c[d]){var e=k(c[d]).assign;if(!e)throw new Error(d+" attribute used but expression in it is not assignable: "+c[d]);e(b,a)}}function f(b){return b=a(b),c.widgetInstance(b,c.ui)||c.widgetInstance(b,c.mobile.ui)||c.widgetInstance(b,c.dataviz.ui)}function g(a,b,c,d){a.bind.call(a,b,c,d);var e=a._events[b];e.unshift(e.pop())}function h(a){/^\$(digest|apply)$/.test(a.$root.$$phase)||a.$digest()}function i(b,c){b.$destroy(),c&&a(c).removeData("$scope").removeData("$isolateScope").removeData("$isolateScopeNoTemplate")}function j(d,e,f){if(a.isArray(d))return b.forEach(d,function(a){j(a,e,f)});if("string"==typeof d){for(var g=d.split("."),h=c;h&&g.length>0;)h=h[g.shift()];d=h}var i=d.prototype[e];d.prototype[e]=function(){var a=this,b=arguments;return f.apply({self:a,next:function(){return i.apply(a,arguments.length>0?arguments:b)}},b)}}var k,l,m,n,o=c.attr("uid"),p=b.module("kendo.directives",[]),q=function u(){return u},r={dataSource:function(){var a={TreeView:"HierarchicalDataSource",Scheduler:"SchedulerDataSource"},b=function(a,b){return c.data[b].create(a)};return function(c,d,e,g){var h=a[g]||"DataSource",i=b(c.$eval(e.kDataSource),h);return d.data("$kendoDataSource",i),c.$watch(e.kDataSource,function(a,c){if(a!==c){var e=b(a,h);d.data("$kendoDataSource",e);var g=f(d);g&&"function"==typeof g.setDataSource&&g.setDataSource(e)}}),i}}(),widget:function(){var c={kDataSource:!0,kOptions:!0,kRebind:!0,kNgModel:!0};return function(d,f,g,h){var i=h.replace(/^kendo/,""),j=b.extend({},d.$eval(g.kOptions));a.each(g,function(a,e){if(!c[a]){var f=a.match(/^k(On)?([A-Z].*)/);if(f){var g=f[2].charAt(0).toLowerCase()+f[2].slice(1);f[1]?j[g]=e:(j[g]=b.copy(d.$eval(e)),void 0===j[g]&&e.match(/^\w*$/)&&m.warn(h+"'s "+a+" attribute resolved to undefined. Maybe you meant to use a string literal like: '"+e+"'?"))}}}),j.dataSource=f.inheritedData("$kendoDataSource")||j.dataSource,g.kDataSource&&(j.dataSource=r.dataSource(d,f,g,i)),j.$angular=!0;var k=a(f)[h](n=j).data(h);return e(k,d,g,h),d.$emit("kendoWidgetCreated",k),k}}()};p.factory("directiveFactory",["$timeout","$parse","$compile","$log",function(b,c,d,e){l=b,k=c,q=d,m=e;var f=0,h=function(b){return{restrict:"ACE",require:["?ngModel","^?form"],scope:!1,link:function(c,d,e,h){var i=h[0],j=h[1];a(d)[0].removeAttribute("data-"+b.replace(/([A-Z])/g,"-$1")),++f,l(function(){function h(){function a(){return f?d.val():o.value()}var f=/^(input|select|textarea)$/i.test(d[0].tagName);if(p&&p(),p=c.$on("$destroy",function(){o.destroy()}),i){if(!o.value)throw new Error("ng-model used but "+b+" does not define a value accessor");i.$render=function(){o.value(i.$viewValue)};var h;d.on("change",function(){h=!0});var n=function(b){return function(){h=!1,l(function(){if(!h){if(b&&j)var c=j.$pristine;i.$setViewValue(a()),b&&(i.$setPristine(),c&&j.$setPristine())}})}};g(o,"change",n(!1)),g(o,"dataBound",n(!0));var q=a();q!=i.$viewValue&&(i.$isEmpty(i.$viewValue)?null!=q&&""!=q&&q!=i.$viewValue&&i.$setViewValue(q):o.value(i.$viewValue)),i.$setPristine()}a:if(e.kNgModel){if("function"!=typeof o.value){m.warn("k-ng-model specified on a widget that does not have the value() method: "+o.options.name);break a}var r=k(e.kNgModel),s=r.assign,t=null==o.value()||""==o.value();r(c)===o.value()||t?t&&(o.value(r(c)),o.trigger("change")):s(c,o.value()),c.$watch(e.kNgModel,function(a,b){a!==b&&o.value(a)}),o.bind("change",function(){s(c,o.value())})}}if(e.kRebind){var n=a(d)[0].cloneNode(!0);c.$watch(e.kRebind,function(f,g){if(f!==g)try{var i=a(o.wrapper)[0],j=a(o.element)[0];if(o.destroy(),i&&j){i.parentNode.replaceChild(j,i);var k=n.cloneNode(!0);a(d).replaceWith(k),d=a(k)}o=r.widget(c,d,e,b),h()}catch(l){console.error(l),console.error(l.stack)}},!0)}var o=r.widget(c,d,e,b);h();var p=null;!function(){function b(){f.disconnect()}function c(){f.observe(a(d)[0],{attributes:!0})}if(window.MutationObserver&&o.wrapper){var e=[].slice.call(a(d)[0].classList),f=new MutationObserver(function(d){b(),d.forEach(function(b){var c=a(o.wrapper)[0];switch(b.attributeName){case"class":var d=[].slice.call(b.target.classList);d.forEach(function(a){e.indexOf(a)<0&&c.classList.add(a)}),e.forEach(function(a){d.indexOf(a)<0&&c.classList.remove(a)}),e=d;break;case"disabled":"function"==typeof o.enable&&o.enable(!a(b.target).attr("disabled"));break;case"readonly":"function"==typeof o.readonly&&o.readonly(!!a(b.target).attr("readonly"))}}),c()});c(),g(o,"destroy",b)}}(),--f,0==f&&c.$emit("kendoRendered")})}}};return{create:h}}]),b.forEach([c.ui,c.dataviz&&c.dataviz.ui],function(a){b.forEach(a,function(a,b){if(b.match(/^[A-Z]/)&&"Widget"!==b){var c="kendo"+b;p.directive(c,["directiveFactory",function(a){return a.create(c)}])}})});var s="$angular_beforeCreate",t="$angular_afterCreate";j("ui.Widget","init",function(a,b){!b&&n&&(b=n),n=null;var c=this.self;b&&b.$angular?(c.$angular_beforeCreate(a,b),this.next(),c.$angular_afterCreate()):this.next()}),j("ui.Widget",s,function(c,d){var e=this.self;if(d&&!a.isArray(d))for(var f=b.element(c).scope(),g=e.events.length;--g>=0;){var h=e.events[g],i=d[h];i&&"string"==typeof i&&(d[h]=e.$angular_makeEventHandler(h,f,i))}}),j("ui.Widget",t,function(){}),j("ui.Widget","$angular_makeEventHandler",function(a,b,c){return c=k(c),function(a){/^\$(apply|digest)$/.test(b.$root.$$phase)?c(b,{kendoEvent:a}):b.$apply(function(){c(b,{kendoEvent:a})})}}),j(["ui.Grid","ui.ListView"],"$angular_makeEventHandler",function(c,d,e){return"change"!=c?this.next():(e=k(e),function(c){var f,g,h,i,j,k,l=c.sender,m=l.options,n=l.dataSource,p={kendoEvent:c};b.isString(m.selectable)&&(f=-1!==m.selectable.indexOf("cell"),g=-1!==m.selectable.indexOf("multiple")),h=p.selected=this.select(),i=p.data=[],j=p.columns=[];for(var q=0;q<h.length;q++){var r=f?h[q].parentNode:h[q],s=a(r).attr(o),t=n.getByUid(s);f?(b.element.inArray(t,i)<0&&i.push(t),k=b.element(h[q]).index(),b.element.inArray(k,j)<0&&j.push(k)):i.push(t)}g||(p.data=i[0],p.selected=h[0]),d.$apply(function(){e(d,p)})})}),j(["ui.PanelBar","ui.TabStrip","ui.Splitter"],t,function(){this.next();var a=this.self,c=b.element(a.element).scope();c&&g(a,"contentLoad",function(a){a.contentElement||a.pane;q(a.contentElement)(c),h(c)})}),j("ui.Draggable","_start",function(){this.next();var a=this.self;if(a.hint){var c=b.element(a.currentTarget).scope();c&&(q(a.hint)(c),h(c))}}),j("ui.Grid",s,function(a,c){this.next(),c.columns&&b.forEach(c.columns,function(a){!a.field||a.template||a.format||(a.template="<span ng-bind='dataItem."+a.field+"'>#: "+a.field+"#</span>")})}),j(["ui.Grid","ui.ListView","ui.TreeView"],s,function(c,d){this.next();var e=b.element(c).scope();if(e){var f=this.self,g=f.options.name,i=d.dataBound;d.dataBound=function(b){var c=b.sender,d=c.dataSource,f=!1;c.items().each(function(){var b="TreeView"==g?a(this).find(".k-in").first():a(this);if(!b.hasClass("ng-scope")){var c=a(this).attr(o),h=d.getByUid(c),i=e.$new();i.dataItem=h,q(b)(i),f=!0}});try{if(i)return i.apply(this,arguments)}finally{f&&h(e)}}}}),j(["ui.AutoComplete","ui.ComboBox"],s,function(c,d){this.next();var e=b.element(c).scope();if(e){var f=(this.self,d.dataBound);d.dataBound=function(b){var c=b.sender,d=(c.dataSource,!1);a(c.items()).each(function(){var b=a(this);if(!b.hasClass("ng-scope")){var f=c.dataItem(b.index()),g=e.$new();g.dataItem=f,q(b)(g),d=!0}});try{if(f)return f.apply(this,arguments)}finally{d&&h(e)}}}}),j(["ui.AutoComplete","ui.ComboBox"],t,function(){this.next(),this.self.bind("dataBinding",function(c){a(c.sender.items()).each(function(){var a=b.element(this).scope();a&&i(a,this)})})}),j(["ui.Grid","ui.ListView"],t,function(){this.next();var c=this.self,d=b.element(c.element).scope();d&&(c.bind("itemChange",function(a){var b=a.sender.dataSource,c=a.item[0],e=d.$new();e.dataItem=b.getByUid(a.item.attr(o)),q(c)(e),h(e)}),c.bind("dataBinding",function(c){c.sender.items().each(function(){var c=a(this);if(c.attr(o)){var e=b.element(this).scope();e&&e!==d&&i(e,c)}})}))}),j("ui.Grid","_toolbar",function(){this.next();var a=this.self,c=b.element(a.element).scope();c&&(q(a.wrapper.find(".k-grid-toolbar").first())(c),h(c))}),j("ui.Grid","_thead",function(){this.next();var a=this.self,c=b.element(a.element).scope();c&&(q(a.thead)(c),h(c))}),j("ui.editor.Toolbar","render",function(){this.next();var a=this.self,c=b.element(a.element).scope();c&&(q(a.element)(c),h(c))}),j("ui.Grid",t,function(){this.next();var a=this.self,c=b.element(a.element).scope();c&&a.options.detailTemplate&&g(a,"detailInit",function(a){var b=c.$new();b.dataItem=a.data,q(a.detailCell)(b),h(b)})}),j("ui.Grid","cancelRow",function(){var a=this.self,c=b.element(a.element).scope(),d=a._editContainer;if(d){var e=a._modelForContainer(d),f=e.uid,g=b.element(d).scope();g!==c&&i(g,d)}if(this.next(),f){var j=a.items().filter("["+o+"="+f+"]"),k=c.$new();k.dataItem=e,q(j)(k),h(c)}}),j("ui.Editable","refresh",function(){this.next();var a=this.self,c=a.options.model,e=b.element(a.element).scope();e&&c&&(a.$angular_scope&&i(a.$angular_scope,a.element),e=a.$angular_scope=e.$new(),e.dataItem=c,d(function(){q(a.element)(e),h(e)}),a.element.find(":kendoFocusable").eq(0).focus())}),j("ui.Editable","destroy",function(){var a=this.self;a.$angular_scope&&(i(a.$angular_scope,a.element),a.$angular_scope=null),this.next()})},"function"==typeof define&&define.amd?define:function(a,b){b(jQuery,angular,kendo)});